<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>8&nbsp; Dynamic Optimization and Adaptive Management – Adaptation Notes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./efficiency.html" rel="next">
<link href="./commons.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-626149efe8f5d16e1d391ba177679bf0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./dynamic.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Dynamic Optimization and Adaptive Management</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Adaptation Notes</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./evolution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Evolutionary Foundations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./populations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Population Ecology</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./culture.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Does Culture Evolve?</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./decision.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Risk, Uncertainty, and Decision-Making</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./complex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Complexity</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./commons.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Emergence and Governing the Commons</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Dynamic Optimization and Adaptive Management</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./efficiency.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Efficiency Is the Enemy</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./robust.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">The Structure of Successful Problem-Solving</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#dynamic-programming" id="toc-dynamic-programming" class="nav-link active" data-scroll-target="#dynamic-programming"><span class="header-section-number">8.1</span> Dynamic Programming</a>
  <ul class="collapse">
  <li><a href="#example-clark-mangel-2000-patch-choice-model" id="toc-example-clark-mangel-2000-patch-choice-model" class="nav-link" data-scroll-target="#example-clark-mangel-2000-patch-choice-model"><span class="header-section-number">8.1.1</span> Example: Clark &amp; Mangel (2000) Patch-Choice Model</a></li>
  </ul></li>
  <li><a href="#notes-on-human-life-history-decisions" id="toc-notes-on-human-life-history-decisions" class="nav-link" data-scroll-target="#notes-on-human-life-history-decisions"><span class="header-section-number">8.2</span> Notes on Human Life-History Decisions</a>
  <ul class="collapse">
  <li><a href="#objective" id="toc-objective" class="nav-link" data-scroll-target="#objective"><span class="header-section-number">8.2.1</span> Objective</a></li>
  <li><a href="#states" id="toc-states" class="nav-link" data-scroll-target="#states"><span class="header-section-number">8.2.2</span> States</a></li>
  <li><a href="#decision-variable" id="toc-decision-variable" class="nav-link" data-scroll-target="#decision-variable"><span class="header-section-number">8.2.3</span> Decision Variable</a></li>
  <li><a href="#transition-model" id="toc-transition-model" class="nav-link" data-scroll-target="#transition-model"><span class="header-section-number">8.2.4</span> Transition Model</a></li>
  <li><a href="#define-utility-function" id="toc-define-utility-function" class="nav-link" data-scroll-target="#define-utility-function"><span class="header-section-number">8.2.5</span> Define Utility Function</a></li>
  <li><a href="#determine-optimal-solution" id="toc-determine-optimal-solution" class="nav-link" data-scroll-target="#determine-optimal-solution"><span class="header-section-number">8.2.6</span> Determine Optimal Solution</a></li>
  <li><a href="#the-biology" id="toc-the-biology" class="nav-link" data-scroll-target="#the-biology"><span class="header-section-number">8.2.7</span> The Biology</a></li>
  </ul></li>
  <li><a href="#adaptive-management" id="toc-adaptive-management" class="nav-link" data-scroll-target="#adaptive-management"><span class="header-section-number">8.3</span> Adaptive Management</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-dynamic" class="quarto-section-identifier"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Dynamic Optimization and Adaptive Management</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Sometimes there isn’t a single best value to choose. Instead, the best choice depends on the state of the organism, the environment, the social group, etc. Dynamic optimization approaches such as dynamic programming provide very powerful tools for such cases. In principle, these methods are very simple to implement. In practice it can be easier to find solutions for dynamic programming models than for many complex but static problems. Dynamic programming simply takes a bit of computer programming and a willingness to deal with some notation.</p>
<p>A full description of the method of stochastic dynamic programming is beyond the scope of this chapter, and the interested reader is referred to both <span class="citation" data-cites="magel_clark1988">Mangel and Clark (<a href="references.html#ref-magel_clark1988" role="doc-biblioref">1988</a>)</span> and <span class="citation" data-cites="clark_mangel2000">Clark and Mangel (<a href="references.html#ref-clark_mangel2000" role="doc-biblioref">2000</a>)</span>, a pair of excellent books detailing dynamic programming with applications in behavioral ecology and natural resource management. Nonetheless, it is worth outlining the logic of dynamic programming.</p>
<p>The optimal decision in a dynamic programming problem is made by considering a dynamic state valiable. Such a variable might be individual energy stores in a foraging application or household wealth in an economic application. This state variable increases or decreases depending upon your decision and whether or not you are successful once you have made your decision. Whether you decide to pursue the high-risk/high-gain prey or the low-risk/low-gain prey will be a function of how hungry you are. Similarly, whether you liquidate your houshold herd or not will depend critically on whether your household is in imminent danger of extinction. Dynamic programming relies on defining a finite time horizon over which decisions are made. It turns out frequently to be quite easy to determine the optimal choice, given the state variable, in this last time step. For example, consider the case of risky foraging. Say that if at the end of the time horizon, <span class="math inline">\(T\)</span> (e.g., a week or a month) you will starve to death if your energy stores are below a critical value <span class="math inline">\(x(T)&lt;x_c\)</span>. Your goal is simply to survive to <span class="math inline">\(T\)</span>. In this case, it is obvious that you go for the high-risk/high-reward choice if getting the high return will put you above <span class="math inline">\(x_c\)</span> but the low return will not. There is no need to be concerned about risk at this point because you are desperate. Similarly, if you are at the end of the time span (i.e., <span class="math inline">\(T-1\)</span>), comfortably above <span class="math inline">\(x_c\)</span> and the risk associated with the high-risk/high-reward foraging target is mortality (e.g., in the case where foraging for the high-reward item is dangerous), then you obviously go for the low-risk choice because there is no added benefit to ending way above or just above <span class="math inline">\(x_c\)</span> – the only thing that matters is whether you survive.</p>
<p>Once you have determined what the optimal decision is for <span class="math inline">\(T-1\)</span>, you then figure out what the best decision is at <span class="math inline">\(T-2\)</span> and so on. By moving backward through time, you are always making the relatively easy decision of “the last” since your decision at time <span class="math inline">\(T-2\)</span> can not be affected by your decision at time <span class="math inline">\(T-1\)</span>.</p>
<p>Dynamic programming has been applied to human ecology, though apparently perceptions about it being an advanced or difficult technique have kept the applications to human ecology less numerous than the utility of the technique would warrant. <span class="citation" data-cites="mace1993">Mace (<a href="references.html#ref-mace1993" role="doc-biblioref">1993</a>)</span> used dynamic programming to study subsistence decisions among Gabbra pastoralists of Ethiopia. Mace used multiple objective functions: herd offtake, short-term household survival, and long-term household survival. The decision that she investigated was whether or not Gabbra herders should manipulate the breeding rate of their sheep. She found that each different objective function yielded a different prediction: (1) maximizing off-take predicted that breeding should never be slowed, (2) maximizing short-term household survival predicted that breeding should always be slowed, and (3) maximizing long-term household survival predicted that the herd-breeding rate should only be slowed by relatively wealthy households. Her ethnographic data supported pediction 3, supporting the hypothesis that Gabbra herders are maximizing long-term household survival. Mace argues that this is the outcome most clearly consistent with natural selection acting upon decision-making.</p>
<p>Gillis et al.&nbsp;(1995), as discussed in <span class="citation" data-cites="clark_mangel2000">Clark and Mangel (<a href="references.html#ref-clark_mangel2000" role="doc-biblioref">2000</a>)</span>, investigated a phenomenon known as “high-grading” in the Oregon sablefish fishery. High-grading is the practice of discarding less valuable fish when they are caught in anticipation of landing more valuable fish later. The discarded fish typically die when they are discarded. Fishing boats high-grade because they can not keep valuable fish if their hold is filled and if it is filled with lower-quality fish (i.e., fish fetching a lower price at market), then they potentially pay a substantial opportunity cost for keeping lower-grade fish. They found that high-grading should become more common in four situations: (1) toward the end of fishing trips, (2) when there is a greater overall availability of fish, (3) when there is a decrease in the trip quota, or (4) where there a decrease in the risk prematurely terminating a fishing trip. The model of Gillis et al.&nbsp;(1995) can be used to estimate bycatch mortality, an important fisheries metric.</p>
<section id="dynamic-programming" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="dynamic-programming"><span class="header-section-number">8.1</span> Dynamic Programming</h2>
<p>Sometimes there isn’t a single best value to choose. Instead, the best choice depends on the state of the organism, the environment, the social group, etc. Dynamic optimization approaches such as stochastic dynamic programming (SDP) provide very powerful tools for such cases. In principle, these methods are very simple to implement. In practice it can be easier to find solutions for dynamic programming models than for many complex but static problems. Dynamic programming simply takes a bit of computer programming and a willingness to deal with some notation. A full description of the method of stochastic dynamic programming is beyond the scope of this chapter, and the interested reader is referred to both <span class="citation" data-cites="magel_clark1988">Mangel and Clark (<a href="references.html#ref-magel_clark1988" role="doc-biblioref">1988</a>)</span> and Clark and Mangel’s <span class="citation" data-cites="clark_mangel2000">(<a href="references.html#ref-clark_mangel2000" role="doc-biblioref">2000</a>)</span> excellent books detailing dynamic programming with applications in behavioral ecology and natural resource management. Nonetheless, it is worth outlining the logic of dynamic programming.</p>
<p>Fitness is a function of both the state variable(s) (which may be vector-valued) that changes with time, <span class="math inline">\(x_t\)</span>, and the control variable <span class="math inline">\(a_t\)</span>. The control variable is the action the actor takes at each time <span class="math inline">\(t\)</span>. The goal is to maximize the fitness function over some specified time horizon ranging from <span class="math inline">\(t=0\)</span> to <span class="math inline">\(t=T\)</span>. Dynamic programming solves the problem,</p>
<p><span class="math display">\[ \max_A \mathsf{E} \left( F(x_t, a_t) \right). \]</span></p>
<p>That is, choose the actions <span class="math inline">\(a_t \in A\)</span> that maximize the expected value of the fitness function over the time period <span class="math inline">\([0, T]\)</span>.</p>
<p>The optimal decision in a dynamic programming problem is made by considering a dynamic state variable. Such a variable might be individual energy stores in a foraging application or household wealth in an economic application. This state variable increases or decreases depending upon the actor’s decision and whether or not the actor is successful once its made a decision. Whether an actor decides to pursue the high-risk/high-gain prey or the low-risk/low-gain prey will be a function of how hungry the actor is. Similarly, whether the actor liquidates its household herd or not will depend critically on whether the household is in imminent danger of extinction. Dynamic programming relies on defining a finite time horizon over which decisions are made. It turns out frequently to be quite easy to determine the optimal choice, given the state variable, in this last time step. For example, consider the case of risky foraging. Say that if at the end of the time horizon, <span class="math inline">\(T\)</span> (e.g., a week or a month) the actor will starve to death if its energy stores are below a critical value <span class="math inline">\(x(T)&lt;x_c\)</span>. The actor’s goal is simply to survive to <span class="math inline">\(T\)</span>. In this case, it is obvious that the actor will go for the high-risk/high-reward choice if getting the high return will put it above <span class="math inline">\(x_c\)</span> but the low return will not. There is no need to be concerned about risk at this point because the actor is desperate. Similarly, if the actor is at the end of the time span (i.e., <span class="math inline">\(T-1\)</span>), comfortably above <span class="math inline">\(x_c\)</span> and the risk associated with the high-risk/high-reward foraging target is mortality (e.g., in the case where foraging for the high-reward item is dangerous), then the actor obviously goes for the low-risk choice because there is no added benefit to ending way above or just above <span class="math inline">\(x_c\)</span> – the only thing that matters is whether it survives.</p>
<p>Once we have determined what the optimal decision is for <span class="math inline">\(T-1\)</span>, we then figure out what the best decision is at <span class="math inline">\(T-2\)</span> and so on. By moving backward through time, we are always making the relatively easy decision of “the last” since your decision at time <span class="math inline">\(T-2\)</span> can not be affected by your decision at time <span class="math inline">\(T-1\)</span>. This process is known as “backward induction” and it is a powerful tool also used in finding the evolutionary stable strategies in games.</p>
<p>Dynamic programming has been applied to human ecology, though apparently perceptions about it being an advanced or difficult technique have kept the applications to human ecology less numerous than the utility of the technique would warrant. Mace (1993) used dynamic programming to study subsistence decisions among Gabbra pastoralists of Ethiopia. Mace used mutliple objective functions: herd offtake, short-term household survival, and long-term household survival. The decision that she investigated was whether or not Gabbra herders should manipulate the breeding rate of their sheep. She found that each different objective function yielded a different prediction: (1) maximizing off-take predicted that breeding should never be slowed, (2) maximizing short-term household survival predicted that breeding should always be slowed, and (3) maximizing long-term household survival predicted that the herd-breeding rate should only be slowed by relatively wealthy households. Her ethnographic data supported prediction #3, supporting the hypothesis that Gabbra herders are maximizing long-term household survival. Mace argues that this is the outcome most clearly consistent with natural selection acting upon decision-making.</p>
<p>Gillis et al.&nbsp;(1995), as discussed in Clark and Mangel (2000), investigated a phenomenon known as “high-grading” in the Oregon sablefish fishery. High-grading is the practice of discarding less valuable fish when they are caught in anticipation of landing more valuable fish later. The discarded fish typically die when they are discarded. Fishing boats high-grade because they can not keep valuable fish if their hold is filled and if it is filled with lower-quality fish (i.e., fish fetching a lower price at market), then they potentially pay a substantial opportunity cost for keeping lower-grade fish. They found that high-grading should become more common in four situations: (1) toward the end of fishing trips, (2) when there is a greater overall availability of fish, (3) when there is a decrease in the trip quota, or (4) where there a decrease in the risk prematurely terminating a fishing trip. The model of Gillis et al.&nbsp;(1995) can be used to estimate by-catch mortality, an important fisheries metric.</p>
<p>Milner-Gulland and colleagues (1996) model household decision-making among dry-land agropastoralists. They were specifically interested in three questions: (1) why do farmers in dry areas grow maize despite the fact that it performs poorly when water stressed? (2) what determines the fraction of household wealth represented by goats, cattle, or crops? (3) how does the ability to use cattle as draft animals affect the optimal proportions of livestock vs.&nbsp;crops?</p>
<p><span class="citation" data-cites="milner-gulland_etal1996">Milner-Gulland, Mace, and Scoones (<a href="references.html#ref-milner-gulland_etal1996" role="doc-biblioref">1996</a>)</span> employ an important feature of the dynamic programming approach. Solving the dynamic programming approach allowed the researchers to find the optimal strategies for different wealth states of individual households. However, they were also able to specify suboptimal strategies and explore the consequences of these for household wealth by forward simulation. Furthermore, by simulating all possible paths for a household’s wealth from a given starting point, a household wealth probability distribution for destitution (i.e., zero household wealth) can be calculated.</p>
<p>The model allowed the authors to understand the seemingly paradoxical observation that poor farmers on very dry land will plant maize despite its typically poor performance in dry country rather than millet which does much better. In brief, the only hope for a farmer faced with destitution is to get very lucky and produce a bumper crop of maize. At that level of poverty, a millet crop will not raise the farmer from destitution, so he might as well attempt the maize crop. Similarly, wealthier households should switch to millet because of its lower year-to-year variance. This is an interesting example of Friedman &amp; Savage’s (1948) model for changing risk preference with wealth discussed below.</p>
<section id="example-clark-mangel-2000-patch-choice-model" class="level3" data-number="8.1.1">
<h3 data-number="8.1.1" class="anchored" data-anchor-id="example-clark-mangel-2000-patch-choice-model"><span class="header-section-number">8.1.1</span> Example: Clark &amp; Mangel (2000) Patch-Choice Model</h3>
<p>The <code>R</code> code for this model is provided by <span class="citation" data-cites="soetaert_herman2009">Soetaert and Herman (<a href="references.html#ref-soetaert_herman2009" role="doc-biblioref">2009</a>)</span>.</p>
<p>First set the parameters</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>xcrit <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>xmax <span class="ot">&lt;-</span> <span class="dv">30</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>xrep <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>xclass <span class="ot">&lt;-</span> xcrit<span class="sc">:</span>xmax</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>nmass <span class="ot">&lt;-</span> <span class="fu">length</span>(xclass)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>tmax <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>times <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span>(tmax<span class="dv">-1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Some more:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>npatch <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>psurv <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.99</span>,<span class="fl">0.95</span>,<span class="fl">0.98</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>pfood <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.2</span>,<span class="fl">0.5</span>,<span class="dv">0</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>cost <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>feedgain <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">0</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>repr <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">4</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nr=</span>tmax, <span class="at">nc=</span>nmass, <span class="dv">0</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>bestp <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nr=</span>tmax<span class="dv">-1</span>,<span class="at">nc=</span>nmass<span class="dv">-1</span>,<span class="dv">0</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>V <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="at">len=</span>npatch)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>fend <span class="ot">&lt;-</span> <span class="dv">60</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># saturation parameter</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>kx <span class="ot">&lt;-</span> <span class="fl">0.25</span><span class="sc">*</span>xmax</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co"># terminal fitness -- type II functional response</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>f[tmax,] <span class="ot">&lt;-</span> fend<span class="sc">*</span>(xclass<span class="sc">-</span>xcrit)<span class="sc">/</span>(xclass<span class="sc">-</span>xcrit<span class="sc">+</span>kx)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Define the fitness function that will be used in the iteration:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>fitness <span class="ot">&lt;-</span> <span class="cf">function</span>(x,t){</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  xx <span class="ot">&lt;-</span> <span class="fu">pmin</span>(x,xmax)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  xx <span class="ot">&lt;-</span> <span class="fu">pmax</span>(xx,xcrit)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  fitness <span class="ot">&lt;-</span> f[t,xx<span class="sc">-</span>xcrit<span class="sc">+</span><span class="dv">1</span>]</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This runs the main loop. Iterate over time and over size classes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(t <span class="cf">in</span> <span class="fu">rev</span>(times))                         <span class="co">#backwards iteration</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(x <span class="cf">in</span> xclass[<span class="sc">-</span><span class="dv">1</span>])                       <span class="co">#each class except xcrit</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>      dfit <span class="ot">&lt;-</span> <span class="fu">pmax</span>(<span class="dv">0</span>,<span class="fu">pmin</span>(x<span class="sc">-</span>xrep,repr))      <span class="co">#reproduction</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>      expectgain <span class="ot">&lt;-</span> psurv<span class="sc">*</span>(pfood<span class="sc">*</span><span class="fu">fitness</span>(x<span class="sc">-</span>cost<span class="sc">+</span>feedgain<span class="sc">-</span>dfit,t<span class="sc">+</span><span class="dv">1</span>) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">-</span>pfood)<span class="sc">*</span><span class="fu">fitness</span>(x<span class="sc">-</span>cost<span class="sc">-</span>dfit, t<span class="sc">+</span><span class="dv">1</span>))</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>      V <span class="ot">&lt;-</span> dfit <span class="sc">+</span> expectgain</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>      V[expectgain <span class="sc">==</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="dv">0</span>                 <span class="co">#dead</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>      f[t,x<span class="sc">-</span>xcrit<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">max</span>(V)                <span class="co">#optimal fitness</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>      bestp[t,x<span class="sc">-</span>xcrit] <span class="ot">&lt;-</span> <span class="fu">which.max</span>(V)        <span class="co">#best patch</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    }  <span class="co"># next biomass class x</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>} <span class="co"># next time t</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Plot the output using an image and overlay contour lines</p>
<div class="cell" data-fig.asp="1">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">image</span>(<span class="at">x=</span>times,<span class="at">y=</span>xclass[<span class="sc">-</span><span class="dv">1</span>],<span class="at">z=</span>bestp,<span class="at">ylab=</span><span class="st">"weight"</span>,<span class="at">xlab=</span><span class="st">"time"</span>,<span class="at">zlim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">3</span>),</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">main=</span><span class="st">"optimal patch"</span>,<span class="at">col=</span><span class="fu">c</span>(<span class="st">"black"</span>,<span class="st">"blue4"</span>,<span class="st">"turquoise"</span>,<span class="st">"skyblue"</span>))</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">box</span>()</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"topleft"</span>,<span class="at">fill=</span><span class="fu">c</span>(<span class="st">"black"</span>,<span class="st">"blue4"</span>,<span class="st">"turquoise"</span>,<span class="st">"skyblue"</span>), <span class="at">legend=</span><span class="fu">c</span>(<span class="st">"dead"</span>,<span class="st">"1"</span>,<span class="st">"2"</span>,<span class="st">"3"</span>))</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">contour</span>(<span class="at">x=</span><span class="dv">1</span><span class="sc">:</span>tmax, <span class="at">y=</span>xclass, <span class="at">z=</span>f,<span class="at">add=</span><span class="cn">TRUE</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"topright"</span>,<span class="at">legend=</span><span class="st">"fitness"</span>,<span class="at">lty=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="dynamic_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="notes-on-human-life-history-decisions" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="notes-on-human-life-history-decisions"><span class="header-section-number">8.2</span> Notes on Human Life-History Decisions</h2>
<p>Define the six requirements of an SDP model (from Marescot et al.&nbsp;2013):</p>
<ol type="1">
<li>Define optimization objective</li>
<li>Define states that determine the system</li>
<li>Define decision variable</li>
<li>Build transition model</li>
<li>Define utility function</li>
<li>Determine optimal solution</li>
</ol>
<section id="objective" class="level3" data-number="8.2.1">
<h3 data-number="8.2.1" class="anchored" data-anchor-id="objective"><span class="header-section-number">8.2.1</span> Objective</h3>
<p>Maximize lifetime fitness. For first run, simply use number of recruited offspring. Eventually, use the Mangel/Clark approach using maximization of reproductive value, which is equivalent to maximizing <span class="math inline">\(r\)</span>, and therefore incorporating timing. This is very likely to be crucial to the outcomes.</p>
</section>
<section id="states" class="level3" data-number="8.2.2">
<h3 data-number="8.2.2" class="anchored" data-anchor-id="states"><span class="header-section-number">8.2.2</span> States</h3>
<p>Begin with seven states <span class="math inline">\(\mathbf{X_t} = (n_0, n_1, n_2, n_3, n_4, n_r, x)\)</span>, where <span class="math inline">\(n_i, i \in 0:4\)</span> is the number of children age <span class="math inline">\(i\)</span>, <span class="math inline">\(n_r\)</span> is the number of children age <span class="math inline">\(&gt;5\)</span> (i.e., potential recruits), and <span class="math inline">\(x\)</span> is the energetic state of the individual.</p>
<p>Might want to extend the state-space to count all offspring age less than, say, 15. Not clear if this would be worth the computational costs though since kids over five have a more-or-less constant mortality rate until AFR.</p>
</section>
<section id="decision-variable" class="level3" data-number="8.2.3">
<h3 data-number="8.2.3" class="anchored" data-anchor-id="decision-variable"><span class="header-section-number">8.2.3</span> Decision Variable</h3>
<p>The decision variable <span class="math inline">\(A_t\)</span>, at least for the simplest model, is really just whether or not to have a child.</p>
</section>
<section id="transition-model" class="level3" data-number="8.2.4">
<h3 data-number="8.2.4" class="anchored" data-anchor-id="transition-model"><span class="header-section-number">8.2.4</span> Transition Model</h3>
<p>Having a baby has a big cost. Having an unweaned kid has a bigger cost (?), having a weaned kid has a lower cost. This may be why expanding the state space might make sense. Older kids cost a lot less and may even subsidize younger kids a bit.</p>
<p>Because this is a finite-time model that we will solve using backward induction, we need to define a terminal fitness function. If a woman survives to the end of her reproductive period, her terminal fitness function is just the sum of the product of the number of offspring she has in all different age classes (<span class="math inline">\(n_i\)</span>) and the age-specific recruitment probabilities of these offspring (<span class="math inline">\(\sigma_i\)</span>).</p>
<p><span class="math display">\[ F(\bar{x},T) = \sum_i n_i \sigma_i(\bar{x}) \]</span></p>
<p>I have made the values of <span class="math inline">\(\sigma_i\)</span> be dependent on the mother’s energetic state. This increases realism and ensures that the model doesn’t default to maximizing terminal reproductive effort (i.e., mothers engage in a suicidal last bout of reproduction).</p>
</section>
<section id="define-utility-function" class="level3" data-number="8.2.5">
<h3 data-number="8.2.5" class="anchored" data-anchor-id="define-utility-function"><span class="header-section-number">8.2.5</span> Define Utility Function</h3>
<p>The problem becomes:</p>
<p><span class="math display">\[ F(\bar{x},t) = \mathrm{max}\{V_0(\bar{x},t), V_1(\bar{x},t)\} \]</span></p>
<p>where the 0 and 1 subscripts denote the decision to delay or give birth in a the year <span class="math inline">\(t\)</span> respectively.</p>
<p>Unpacking <span class="math inline">\(V_0\)</span>, we get:</p>
<p><span class="math display">\[ V_0(\bar{x},t) = s(t) \{p_f(\bar{x},t) \mathsf{E}[F(\bar{x}',t+1)] + (1-p_f(\bar{x},t))  \mathsf{E}[F(\bar{x}'',t+1)] \} + (1-s(t)) \sum \sigma_i n_i \]</span></p>
<p>where <span class="math inline">\(s(t)\)</span> is the probability that the woman survives from <span class="math inline">\(t\)</span> to <span class="math inline">\(t+1\)</span>, <span class="math inline">\(p_f(\bar{x},t)\)</span> is the probability that the woman, with state <span class="math inline">\(\bar{x}\)</span> forages successfully in that period, <span class="math inline">\(\mathsf{E}\)</span> is the expectation operator, <span class="math inline">\(\bar{x}'\)</span> is the value of the woman’s state if she forages successfully that year and <span class="math inline">\(\bar{x}''\)</span> is the value of the state if she is unsuccessful, and <span class="math inline">\(F(\bar{x},t+1)\)</span> is fitness given the state <span class="math inline">\(\bar{x}\)</span> at time <span class="math inline">\(t+1\)</span>.</p>
<p>This means that the formula for <span class="math inline">\(V_0\bar{x},t)\)</span> is the sum of two things: (1) the expected fitness if the woman survives the interval, and (2) the expected fitness if she does not. In the former case this is the sum of the expected fitness if she is successful in foraging, <span class="math inline">\(p_f(\bar{x},t) \mathsf{E}[F(\bar{x}',t+1)]\)</span> and if she is not successful, <span class="math inline">\((1-p_f(\bar{x},t))  \mathsf{E}[F(\bar{x}'',t+1)]\)</span>. In the latter case, it is just the survival-weighted sum of her previous reproduction, $_i n_i $.</p>
<p>A comparable formula applies for <span class="math inline">\(V_1\)</span>.</p>
</section>
<section id="determine-optimal-solution" class="level3" data-number="8.2.6">
<h3 data-number="8.2.6" class="anchored" data-anchor-id="determine-optimal-solution"><span class="header-section-number">8.2.6</span> Determine Optimal Solution</h3>
<p>Backwards induction of the finite time-horizon model.</p>
</section>
<section id="the-biology" class="level3" data-number="8.2.7">
<h3 data-number="8.2.7" class="anchored" data-anchor-id="the-biology"><span class="header-section-number">8.2.7</span> The Biology</h3>
<p>The model is broadly similar to the model that Marty Anderies used to investigate optimal fertility among the !Kung <span class="citation" data-cites="anderies1996">(<a href="references.html#ref-anderies1996" role="doc-biblioref">Anderies 1996</a>)</span>. Anderies used an explicit dynamic model of backload constraint to determine the success of foraging. I think this is a bit too restricted. This is where we need to think hard. How does the state (i.e., the number and age-composition of children, and energy status) affect overall foraging success? Are there other potential key variables of state that are going to determine foraging success?</p>
</section>
</section>
<section id="adaptive-management" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="adaptive-management"><span class="header-section-number">8.3</span> Adaptive Management</h2>
<p>Greatly expand this. <span class="citation" data-cites="holling1978 walters1986">(<a href="references.html#ref-holling1978" role="doc-biblioref">Holling 1978</a>; <a href="references.html#ref-walters1986" role="doc-biblioref">Walters 1986</a>)</span></p>
<p>Adaptive management follows a cycle of planning, doing, evaluating and adjusting.</p>
<p><strong>Steps in Adaptive Management:</strong></p>
<ol type="1">
<li>Specify a management objective (e.g., minimize final size of epidemic)</li>
<li>Identify possible management actions</li>
<li>Construct alternative models for the different management actions</li>
<li>Evaluate the success of the chosen management action for achieving objective</li>
<li>Update management decisions</li>
<li>Continue measurement, evaluation, modeling alternatives</li>
</ol>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-anderies1996" class="csl-entry" role="listitem">
Anderies, John M. 1996. <span>“An Adaptive Model for Predicting <span>!Kung</span> Reproductive Performance: A Stochastic Dynamic Programming Approach.”</span> <em>Ethology and Sociobiology</em> 17 (4): 221–45. <a href="https://doi.org/10.1016/0162-3095(96)00037-4">https://doi.org/10.1016/0162-3095(96)00037-4</a>.
</div>
<div id="ref-clark_mangel2000" class="csl-entry" role="listitem">
Clark, C. W., and M. Mangel. 2000. <em>Dynamic State Variable Models in Ecology</em>. New York: Oxford University Press.
</div>
<div id="ref-holling1978" class="csl-entry" role="listitem">
Holling, C. S. 1978. <em>Adaptive Environmental Assessment and Management</em>. New York: Wiley. <a href="https://books.google.com/books?id=1InvPAAACAAJ">https://books.google.com/books?id=1InvPAAACAAJ</a>.
</div>
<div id="ref-mace1993" class="csl-entry" role="listitem">
Mace, Ruth. 1993. <span>“Nomadic Pastoralists Adopt Subsistence Strategies That Maximise Long-Term Household Survival.”</span> <em>Behavioral Ecology and Sociobiology</em> 33 (5): 329–34. <a href="https://doi.org/10.1007/BF00172931">https://doi.org/10.1007/BF00172931</a>.
</div>
<div id="ref-magel_clark1988" class="csl-entry" role="listitem">
Mangel, M., and C. W. Clark. 1988. <em>Dynamic Modeling in Behavioral Ecology</em>. Monographs in Behavior and Ecology. Princeton: Princeton University Press.
</div>
<div id="ref-milner-gulland_etal1996" class="csl-entry" role="listitem">
Milner-Gulland, E. J., Ruth Mace, and Ian Scoones. 1996. <span>“A Model of Household Decisions in Dryland Agropastoral Systems.”</span> <em>Agricultural Systems</em> 51 (4): 407–30. <a href="https://doi.org/10.1016/0308-521X(95)00057-C">https://doi.org/10.1016/0308-521X(95)00057-C</a>.
</div>
<div id="ref-soetaert_herman2009" class="csl-entry" role="listitem">
Soetaert, Karline, and Peter M. J. Herman. 2009. <span>“Dynamic Programming.”</span> In <em>A Practical Guide to Ecological Modelling</em>, edited by Karline Soetaert and Peter M. J. Herman, 295–307. Amsterdam: Springer Netherlands. <a href="https://doi.org/10.1007/978-1-4020-8624-3_10">https://doi.org/10.1007/978-1-4020-8624-3_10</a>.
</div>
<div id="ref-walters1986" class="csl-entry" role="listitem">
Walters, C. J. 1986. <em>Adaptive Management of Renewable Resources</em>. New York: Macmillan. <a href="https://books.google.com/books?id=rkEqPQAACAAJ">https://books.google.com/books?id=rkEqPQAACAAJ</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./commons.html" class="pagination-link" aria-label="Emergence and Governing the Commons">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Emergence and Governing the Commons</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./efficiency.html" class="pagination-link" aria-label="Efficiency Is the Enemy">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Efficiency Is the Enemy</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>